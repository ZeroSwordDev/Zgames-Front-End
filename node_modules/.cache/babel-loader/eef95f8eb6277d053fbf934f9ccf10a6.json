{"ast":null,"code":"import _slicedToArray from\"C:/Users/josel/OneDrive/Escritorio/PI-Videogames-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useSelector}from\"react-redux\";import CardGames from\"../../components/CardGames/CardGames\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Filtered=function Filtered(){var _games$filter,_games$filter2;var genresfilter=useSelector(function(state){return state.filteredOptions.genresFilter;});var ratingFilter=useSelector(function(state){return state.filteredOptions.ratingFilter;});var typeFilter=useSelector(function(state){return state.filteredOptions.typeFilter;});var games=useSelector(function(state){return state.Games;});var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),sort=_useState2[0],setsort=_useState2[1];useEffect(function(){},[genresfilter,ratingFilter]);var handleClick=function handleClick(e){e.preventDefault();setsort(e.target.value);};var filteredGamesApi=games===null||games===void 0?void 0:(_games$filter=games.filter(function(games){return typeFilter===\"API\"&&typeof games.id===\"number\";}))===null||_games$filter===void 0?void 0:_games$filter.filter(function(game){var _game$genres;return(!genresfilter||!game.genres||((_game$genres=game.genres)===null||_game$genres===void 0?void 0:_game$genres.some(function(genre){return genre.name===genresfilter;})))&&(// eslint-disable-next-line\n!ratingFilter||Math.round(game.rating)==ratingFilter);}).sort(function(a,b){if(sort===\"ACS\"){return a.name.localeCompare(b.name);}else if(sort===\"DESC\"){return b.name.localeCompare(a.name);}else{return a.id-b.id;}});var filteredGamesDB=games===null||games===void 0?void 0:(_games$filter2=games.filter(function(games){return typeof games.id===\"string\";}))===null||_games$filter2===void 0?void 0:_games$filter2.filter(function(game){return game.generos.includes(genresfilter);}).sort(function(a,b){if(sort===\"ACS\"){return a.name.localeCompare(b.name);}else if(sort===\"DESC\"){return b.name.localeCompare(a.name);}else{return a.id-b.id;}});return/*#__PURE__*/_jsxs(\"div\",{className:\"GamesContainerfiltered\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"backfilter\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"backfilterflex\",children:[/*#__PURE__*/_jsx(\"ion-icon\",{size:\"large\",name:\"return-up-back-outline\"}),\"Back\"]}),/*#__PURE__*/_jsx(\"h1\",{children:\" Resultados \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"sort\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Ordenamiento:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ascanddesc\",children:/*#__PURE__*/_jsxs(\"select\",{name:\"sort\",id:\"sort\",onClick:handleClick,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecione\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ACS\",children:\"A a Z\"}),/*#__PURE__*/_jsx(\"option\",{value:\"DESC\",children:\"Z a A\"})]})})]})]}),typeFilter===\"API\"?/*#__PURE__*/_jsx(\"div\",{className:\"cardcontainerViewfiltered\",children:filteredGamesApi.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"cardcontainerViewfiltered\",children:filteredGamesApi.map(function(game,i){return/*#__PURE__*/_jsx(CardGames,{game:game},i);})}):/*#__PURE__*/_jsx(\"div\",{className:\"not-found\",children:\"No se encontraron resultados.\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"cardcontainerViewfiltered\",children:filteredGamesDB.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"cardcontainerViewfiltered\",children:filteredGamesDB.map(function(game,i){return/*#__PURE__*/_jsx(CardGames,{game:game},i);})}):/*#__PURE__*/_jsx(\"div\",{className:\"not-found\",children:\"No se encontraron resultados.\"})})]});};export default Filtered;","map":{"version":3,"names":["React","useEffect","useState","useSelector","CardGames","Link","jsx","_jsx","jsxs","_jsxs","Filtered","_games$filter","_games$filter2","genresfilter","state","filteredOptions","genresFilter","ratingFilter","typeFilter","games","Games","_useState","_useState2","_slicedToArray","sort","setsort","handleClick","e","preventDefault","target","value","filteredGamesApi","filter","id","game","_game$genres","genres","some","genre","name","Math","round","rating","a","b","localeCompare","filteredGamesDB","generos","includes","className","children","to","size","onClick","length","map","i"],"sources":["C:/Users/josel/OneDrive/Escritorio/PI-Videogames-main/client/src/pages/Filtered/Filtered.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport CardGames from \"../../components/CardGames/CardGames\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Filtered = () => {\r\n  const genresfilter = useSelector(\r\n    (state) => state.filteredOptions.genresFilter\r\n  );\r\n  const ratingFilter = useSelector(\r\n    (state) => state.filteredOptions.ratingFilter\r\n  );\r\n  const typeFilter = useSelector((state) => state.filteredOptions.typeFilter);\r\n\r\n  const games = useSelector((state) => state.Games);\r\n\r\n  const [sort, setsort] = useState(\"\");\r\n\r\n  useEffect(() => {}, [genresfilter, ratingFilter]);\r\n\r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n\r\n    setsort(e.target.value);\r\n  };\r\n\r\n  const filteredGamesApi = games\r\n    ?.filter((games) => typeFilter === \"API\" && typeof games.id === \"number\")\r\n    ?.filter(\r\n      (game) =>\r\n        (!genresfilter ||\r\n          !game.genres ||\r\n          game.genres?.some((genre) => genre.name === genresfilter)) &&\r\n        // eslint-disable-next-line\r\n        (!ratingFilter || Math.round(game.rating) == ratingFilter)\r\n    )\r\n    .sort((a, b) => {\r\n      if (sort === \"ACS\") {\r\n        return a.name.localeCompare(b.name);\r\n      } else if (sort === \"DESC\") {\r\n        return b.name.localeCompare(a.name);\r\n      } else {\r\n        return a.id - b.id;\r\n      }\r\n    });\r\n\r\n  const filteredGamesDB = games\r\n    ?.filter((games) =>  typeof games.id === \"string\")\r\n    ?.filter(\r\n      (game) =>\r\n        game.generos.includes(genresfilter)\r\n    )\r\n    .sort((a, b) => {\r\n      if (sort === \"ACS\") {\r\n        return a.name.localeCompare(b.name);\r\n      } else if (sort === \"DESC\") {\r\n        return b.name.localeCompare(a.name);\r\n      } else {\r\n        return a.id - b.id;\r\n      }\r\n    });\r\n\r\n  return (\r\n    <div className=\"GamesContainerfiltered\">\r\n      <div className=\"backfilter\">\r\n        <Link to={\"/\"} className=\"backfilterflex\">\r\n          <ion-icon size=\"large\" name=\"return-up-back-outline\"></ion-icon>\r\n          Back\r\n        </Link>\r\n        <h1 > Resultados </h1>\r\n        <div className=\"sort\">\r\n          <p>Ordenamiento:</p>\r\n          <div className=\"ascanddesc\">\r\n            <select name=\"sort\" id=\"sort\" onClick={handleClick}>\r\n              <option value=\"\">Selecione</option>\r\n              <option value=\"ACS\">A a Z</option>\r\n              <option value=\"DESC\">Z a A</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {typeFilter === \"API\" ? (\r\n        <div className=\"cardcontainerViewfiltered\">\r\n          {filteredGamesApi.length > 0 ? (\r\n            <div className=\"cardcontainerViewfiltered\">\r\n              {filteredGamesApi.map((game, i) => (\r\n                <CardGames key={i} game={game} />\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"not-found\">No se encontraron resultados.</div>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <div className=\"cardcontainerViewfiltered\">\r\n          {filteredGamesDB.length > 0 ? (\r\n            <div className=\"cardcontainerViewfiltered\">\r\n              {filteredGamesDB.map((game, i) => (\r\n                <CardGames key={i} game={game} />\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"not-found\">No se encontraron resultados.</div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filtered;\r\n"],"mappings":"kJAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,aAAa,CACzC,MAAO,CAAAC,SAAS,KAAM,sCAAsC,CAC5D,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExC,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAA,CAAS,KAAAC,aAAA,CAAAC,cAAA,CACrB,GAAM,CAAAC,YAAY,CAAGV,WAAW,CAC9B,SAACW,KAAK,QAAK,CAAAA,KAAK,CAACC,eAAe,CAACC,YAAY,GAC9C,CACD,GAAM,CAAAC,YAAY,CAAGd,WAAW,CAC9B,SAACW,KAAK,QAAK,CAAAA,KAAK,CAACC,eAAe,CAACE,YAAY,GAC9C,CACD,GAAM,CAAAC,UAAU,CAAGf,WAAW,CAAC,SAACW,KAAK,QAAK,CAAAA,KAAK,CAACC,eAAe,CAACG,UAAU,GAAC,CAE3E,GAAM,CAAAC,KAAK,CAAGhB,WAAW,CAAC,SAACW,KAAK,QAAK,CAAAA,KAAK,CAACM,KAAK,GAAC,CAEjD,IAAAC,SAAA,CAAwBnB,QAAQ,CAAC,EAAE,CAAC,CAAAoB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IAEpBrB,SAAS,CAAC,UAAM,CAAC,CAAC,CAAE,CAACY,YAAY,CAAEI,YAAY,CAAC,CAAC,CAEjD,GAAM,CAAAS,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,CAAC,CAAK,CACzBA,CAAC,CAACC,cAAc,EAAE,CAElBH,OAAO,CAACE,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CACzB,CAAC,CAED,GAAM,CAAAC,gBAAgB,CAAGZ,KAAK,SAALA,KAAK,kBAAAR,aAAA,CAALQ,KAAK,CAC1Ba,MAAM,CAAC,SAACb,KAAK,QAAK,CAAAD,UAAU,GAAK,KAAK,EAAI,MAAO,CAAAC,KAAK,CAACc,EAAE,GAAK,QAAQ,GAAC,UAAAtB,aAAA,iBADlDA,aAAA,CAErBqB,MAAM,CACN,SAACE,IAAI,MAAAC,YAAA,OACH,CAAC,CAACtB,YAAY,EACZ,CAACqB,IAAI,CAACE,MAAM,IAAAD,YAAA,CACZD,IAAI,CAACE,MAAM,UAAAD,YAAA,iBAAXA,YAAA,CAAaE,IAAI,CAAC,SAACC,KAAK,QAAK,CAAAA,KAAK,CAACC,IAAI,GAAK1B,YAAY,GAAC,KAC3D;AACC,CAACI,YAAY,EAAIuB,IAAI,CAACC,KAAK,CAACP,IAAI,CAACQ,MAAM,CAAC,EAAIzB,YAAY,CAAC,GAC7D,CACAO,IAAI,CAAC,SAACmB,CAAC,CAAEC,CAAC,CAAK,CACd,GAAIpB,IAAI,GAAK,KAAK,CAAE,CAClB,MAAO,CAAAmB,CAAC,CAACJ,IAAI,CAACM,aAAa,CAACD,CAAC,CAACL,IAAI,CAAC,CACrC,CAAC,IAAM,IAAIf,IAAI,GAAK,MAAM,CAAE,CAC1B,MAAO,CAAAoB,CAAC,CAACL,IAAI,CAACM,aAAa,CAACF,CAAC,CAACJ,IAAI,CAAC,CACrC,CAAC,IAAM,CACL,MAAO,CAAAI,CAAC,CAACV,EAAE,CAAGW,CAAC,CAACX,EAAE,CACpB,CACF,CAAC,CAAC,CAEJ,GAAM,CAAAa,eAAe,CAAG3B,KAAK,SAALA,KAAK,kBAAAP,cAAA,CAALO,KAAK,CACzBa,MAAM,CAAC,SAACb,KAAK,QAAM,OAAO,CAAAA,KAAK,CAACc,EAAE,GAAK,QAAQ,GAAC,UAAArB,cAAA,iBAD5BA,cAAA,CAEpBoB,MAAM,CACN,SAACE,IAAI,QACH,CAAAA,IAAI,CAACa,OAAO,CAACC,QAAQ,CAACnC,YAAY,CAAC,GACtC,CACAW,IAAI,CAAC,SAACmB,CAAC,CAAEC,CAAC,CAAK,CACd,GAAIpB,IAAI,GAAK,KAAK,CAAE,CAClB,MAAO,CAAAmB,CAAC,CAACJ,IAAI,CAACM,aAAa,CAACD,CAAC,CAACL,IAAI,CAAC,CACrC,CAAC,IAAM,IAAIf,IAAI,GAAK,MAAM,CAAE,CAC1B,MAAO,CAAAoB,CAAC,CAACL,IAAI,CAACM,aAAa,CAACF,CAAC,CAACJ,IAAI,CAAC,CACrC,CAAC,IAAM,CACL,MAAO,CAAAI,CAAC,CAACV,EAAE,CAAGW,CAAC,CAACX,EAAE,CACpB,CACF,CAAC,CAAC,CAEJ,mBACExB,KAAA,QAAKwC,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCzC,KAAA,QAAKwC,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBzC,KAAA,CAACJ,IAAI,EAAC8C,EAAE,CAAE,GAAI,CAACF,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eACvC3C,IAAA,aAAU6C,IAAI,CAAC,OAAO,CAACb,IAAI,CAAC,wBAAwB,EAAY,OAElE,GAAO,cACPhC,IAAA,OAAA2C,QAAA,CAAK,cAAY,EAAK,cACtBzC,KAAA,QAAKwC,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB3C,IAAA,MAAA2C,QAAA,CAAG,eAAa,EAAI,cACpB3C,IAAA,QAAK0C,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBzC,KAAA,WAAQ8B,IAAI,CAAC,MAAM,CAACN,EAAE,CAAC,MAAM,CAACoB,OAAO,CAAE3B,WAAY,CAAAwB,QAAA,eACjD3C,IAAA,WAAQuB,KAAK,CAAC,EAAE,CAAAoB,QAAA,CAAC,WAAS,EAAS,cACnC3C,IAAA,WAAQuB,KAAK,CAAC,KAAK,CAAAoB,QAAA,CAAC,OAAK,EAAS,cAClC3C,IAAA,WAAQuB,KAAK,CAAC,MAAM,CAAAoB,QAAA,CAAC,OAAK,EAAS,GAC5B,EACL,GACF,GACF,CACLhC,UAAU,GAAK,KAAK,cACnBX,IAAA,QAAK0C,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CACvCnB,gBAAgB,CAACuB,MAAM,CAAG,CAAC,cAC1B/C,IAAA,QAAK0C,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CACvCnB,gBAAgB,CAACwB,GAAG,CAAC,SAACrB,IAAI,CAAEsB,CAAC,qBAC5BjD,IAAA,CAACH,SAAS,EAAS8B,IAAI,CAAEA,IAAK,EAAdsB,CAAC,CAAgB,EAClC,CAAC,EACE,cAENjD,IAAA,QAAK0C,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,+BAA6B,EACzD,EACG,cAEN3C,IAAA,QAAK0C,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CACvCJ,eAAe,CAACQ,MAAM,CAAG,CAAC,cACzB/C,IAAA,QAAK0C,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CACvCJ,eAAe,CAACS,GAAG,CAAC,SAACrB,IAAI,CAAEsB,CAAC,qBAC3BjD,IAAA,CAACH,SAAS,EAAS8B,IAAI,CAAEA,IAAK,EAAdsB,CAAC,CAAgB,EAClC,CAAC,EACE,cAENjD,IAAA,QAAK0C,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,+BAA6B,EACzD,EAEJ,GACG,CAEV,CAAC,CAED,cAAe,CAAAxC,QAAQ"},"metadata":{},"sourceType":"module"}